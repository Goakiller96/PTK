(()=>{"use strict";let e=(e,t=500,i=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=i?`${i}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!i,!i&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!i&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))},t=(e,t=500,i=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,i&&e.style.removeProperty("height");let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=i?`${i}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}},i=!0,n=(e=500)=>{let t=document.querySelector("body");if(i){let n=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),i=!1,setTimeout((function(){i=!0}),e)}},o=(e=500)=>{let t=document.querySelector("body");if(i){let n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),i=!1,setTimeout((function(){i=!0}),e)}};function r(e,t){const i=Array.from(e).filter((function(e,i,n){if(e.dataset[t])return e.dataset[t].split(",")[0]}));if(i.length){const e=[];i.forEach((i=>{const n={},o=i.dataset[t].split(",");n.value=o[0],n.type=o[1]?o[1].trim():"max",n.item=i,e.push(n)}));let n=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));n=function(e){return e.filter((function(e,t,i){return i.indexOf(e)===t}))}(n);const o=[];if(n.length)return n.forEach((t=>{const i=t.split(","),n=i[1],r=i[2],s=window.matchMedia(i[0]),a=e.filter((function(e){if(e.value===n&&e.type===r)return!0}));o.push({itemsArray:a,matchMedia:s})})),o}}let s=!1;setTimeout((()=>{if(s){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);new class{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((e=>{const t=e.dataset.da.trim().split(","),i={};i.element=e,i.parent=e.parentNode,i.destination=document.querySelector(`${t[0].trim()}`),i.breakpoint=t[1]?t[1].trim():"767",i.place=t[2]?t[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,t,i)=>i.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),i=window.matchMedia(t[0]),n=t[1],o=this.оbjects.filter((({breakpoint:e})=>e===n));i.addEventListener("change",(()=>{this.mediaHandler(i,o)})),this.mediaHandler(i,o)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{this.moveTo(e.place,e.element,e.destination)})):t.forEach((({parent:e,element:t,index:i})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,i)}))}moveTo(e,t,i){t.classList.add(this.daClassname),"last"===e||e>=i.children.length?i.append(t):"first"!==e?i.children[e].before(t):i.prepend(t)}moveBack(e,t,i){t.classList.remove(this.daClassname),void 0!==e.children[i]?e.children[i].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint)):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint))}}("max").init();const a=function(){const e=[];return[{title:"Плазмотрон ВПР-402м в сборе",article:"FL-12345",image:"img/plazmotron/vpr-402m.webp",sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Горелка Фламинго для плазменной резки металлов",description:"Профессиональная горелка для плазменной резки с увеличенным ресурсом",hasDetails:!0,detailsUrl:"plazmotron-vpr-402m.html",category:"Плазмотроны"},{title:"Плазмотрон ВПР-410 в сборе",article:"SP-410011",image:"img/plazmotron/vpr-410.webp",sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 410 для плазмотрона",description:"Сопла для плазменной резки серии 410 с медным охлаждением",hasDetails:!0,detailsUrl:"plazmotron-vpr-410.html",category:"Плазмотроны"},{title:"Сопло плазменное 402 для резки алюминия",article:"SP-402011",image:"img/cards/soplo-402.png",price:242.56,sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 402 для резки цветных металлов",description:"Износостойкие сопла для резки алюминия и цветных металлов",category:"Сопла"},{title:"Электрод для плазмотрона конусный",article:"EL-4014",image:"img/cards/electrod.png",price:420,sizes:["Гафний","Биметалл"],sizeLabel:"Тип вставки:",alt:"Электроды для плазменной резки",description:"Катоды для плазмотронов с различными типами вставок",category:"Электроды"},{title:"Сопло плазменное 210 для тонколистового металла",article:"SP-1512",image:"img/cards/soplo-210.png",price:242.56,sizes:["1.3 мм","1.5 мм","1.8 мм","2.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 210 для тонкой резки",description:"Сопла малого диаметра для точной резки тонколистового металла",category:"Сопла"},{title:"Ремкомплект для горелки Фламинго",article:"RK-12350",image:"img/cards/flamingo.webp",price:1999,sizes:["Комплект A","Комплект B","Комплект C"],sizeLabel:"Вариант:",alt:"Ремкомплект для плазменной горелки",description:"Ремонтный комплект для горелок серии Фламинго",category:"Комплектующие"},{title:"Горелка плазменная Фламинго для резки металла",article:"FL-12345-2",image:"img/cards/flamingo.webp",price:1999,alt:"Горелка Фламинго для плазменной резки металлов",description:"Профессиональная горелка для плазменной резки с увеличенным ресурсом",category:"Плазмотроны"},{title:"Сопло плазменное 410 для резки нержавеющей стали",article:"SP-410011-2",image:"img/cards/soplo-410.png",price:348.64,sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 410 для плазмотрона",description:"Сопла для плазменной резки серии 410 с медным охлаждением",category:"Сопла"},{title:"Сопло плазменное 402 для резки алюминия",article:"SP-402011-2",image:"img/cards/soplo-402.png",price:242.56,sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 402 для резки цветных металлов",description:"Износостойкие сопла для резки алюминия и цветных металлов",category:"Сопла"},{title:"Электрод для плазмотрона конусный",article:"EL-4014-2",image:"img/cards/electrod.png",price:420,sizes:["Гафний","Биметалл"],sizeLabel:"Тип вставки:",alt:"Электроды для плазменной резки",description:"Катоды для плазмотронов с различными типами вставок",category:"Электроды"},{title:"Сопло плазменное 210 для тонколистового металла",article:"SP-1512-2",image:"img/cards/soplo-210.png",price:242.56,sizes:["1.3 мм","1.5 мм","1.8 мм","2.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 210 для тонкой резки",description:"Сопла малого диаметра для точной резки тонколистового металла",category:"Сопла"},{title:"Ремкомплект для горелки Фламинго",article:"RK-12350-2",image:"img/cards/flamingo.webp",price:1999,sizes:["Комплект A","Комплект B","Комплект C"],sizeLabel:"Вариант:",alt:"Ремкомплект для плазменной горелки",description:"Ремонтный комплект для горелок серии Фламинго",category:"Комплектующие"},{title:"Горелка плазменная Фламинго для резки металла",article:"FL-12345-3",image:"img/cards/flamingo.webp",price:1999,alt:"Горелка Фламинго для плазменной резки металлов",description:"Профессиональная горелка для плазменной резки с увеличенным ресурсом",category:"Плазмотроны"},{title:"Сопло плазменное 410 для резки нержавеющей стали",article:"SP-410011-3",image:"img/cards/soplo-410.png",price:348.64,sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 410 для плазмотрона",description:"Сопла для плазменной резки серии 410 с медным охлаждением",category:"Сопла"},{title:"Сопло плазменное 402 для резки алюминия",article:"SP-402011-3",image:"img/cards/soplo-402.png",price:242.56,sizes:["2.5 мм","3.0 мм","3.5 мм","4.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 402 для резки цветных металлов",description:"Износостойкие сопла для резки алюминия и цветных металлов",category:"Сопла"},{title:"Электрод для плазмотрона конусный",article:"EL-4014-3",image:"img/cards/electrod.png",price:420,sizes:["Гафний","Биметалл"],sizeLabel:"Тип вставки:",alt:"Электроды для плазменной резки",description:"Катоды для плазмотронов с различными типами вставок",category:"Электроды"},{title:"Сопло плазменное 210 для тонколистового металла",article:"SP-1512-3",image:"img/cards/soplo-210.png",price:242.56,sizes:["1.3 мм","1.5 мм","1.8 мм","2.0 мм"],sizeLabel:"Диаметр сопла:",alt:"Сопло 210 для тонкой резки",description:"Сопла малого диаметра для точной резки тонколистового металла",category:"Сопла"},{title:"Ремкомплект для горелки Фламинго",article:"RK-12350-3",image:"img/cards/flamingo.webp",price:1999,sizes:["Комплект A","Комплект B","Комплект C"],sizeLabel:"Вариант:",alt:"Ремкомплект для плазменной горелки",description:"Ремонтный комплект для горелок серии Фламинго",category:"Комплектующие"},{title:"Ремкомплект для горелки Фламинго",article:"RK-12350-4",image:"img/cards/flamingo.webp",price:1999,sizes:["Комплект A","Комплект B","Комплект C"],sizeLabel:"Вариант:",alt:"Ремкомплект для плазменной горелки",description:"Ремонтный комплект для горелок серии Фламинго",category:"Комплектующие"}].forEach((t=>{const i=e.length>0?Math.max(...e.map((e=>e.id)))+1:1;e.push({id:i,...t})})),e}();let l=0;const c=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);window.onload=function(){document.addEventListener("click",(function(e){const t=e.target;window.innerWidth>767.98&&c()&&t.classList.contains("menu__arrow")&&t.closest(".menu__item").classList.toggle("_hover")}));const e=document.querySelector(".header");if(e){new IntersectionObserver((function(t){t[0].isIntersecting?e.classList.remove("_scroll"):e.classList.add("_scroll")})).observe(e)}},document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("products-container"),t=document.querySelector(".cart-modal"),i=(document.getElementById("cart-icon"),document.querySelector(".close-cart")),n=document.querySelector(".cart-items"),o=document.querySelector(".total-price"),r=document.querySelector(".cart-count"),s=document.querySelector(".cart-footer"),c=document.querySelector(".submit-order"),d=document.querySelector(".search-form__item"),p=document.querySelector(".search-form__input"),u=document.querySelector(".search-form__clear"),m=document.querySelector("#category-filter"),y={initialItems:10,loadMoreItems:5,scrollThreshold:300};let g=[],f=0,h=0,v=!1,b=!1,_="all";function L(){if(v||b)return;window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-y.scrollThreshold&&w(y.loadMoreItems)}function w(t){if(v||b)return;v=!0;const i=function(){if(!Array.isArray(a))return console.error("productsData не является массивом:",a),[];let e=a;"all"!==_&&(e=e.filter((e=>e.category===_)));if(p&&p.value.trim()){const t=p.value.trim().toLowerCase();e=e.filter((e=>e.title?.toLowerCase().includes(t)||e.article?.toLowerCase().includes(t)))}return e}(),n=Math.min(h+t,i.length),o=i.slice(h,n),r=document.createDocumentFragment();o.forEach(((e,t)=>{const i=function(e,t=!1){const i=`${e.article}-${l++}`,n=document.createElement("article");n.className="product__card",n.dataset.title=e.title,n.dataset.article=e.article,n.setAttribute("itemscope",""),n.setAttribute("itemtype","http://schema.org/Product");let o="";e.sizes&&e.sizes.length>0&&(o=`\n                <div class="product__size-selector">\n                    <label for="size-${i}">${e.sizeLabel||"Размер:"}</label>\n                    <select id="size-${i}" name="size-${i}" class="product__size-select">\n                        ${e.sizes.map((e=>`<option value="${e}">${e}</option>`)).join("")}\n                    </select>\n                </div>\n            `);const r=e.price?`\n            <p class="product__price" itemprop="offers" itemtype="http://schema.org/Offer">\n                <span itemprop="price" content="${e.price}">${A(e.price)}</span>\n                <span itemprop="priceCurrency" content="RUB">₽</span>\n            </p>\n        `:"",s=e.hasDetails||e.detailsUrl?`\n            <a href="${e.detailsUrl||"#"}" class="product__details-link" aria-label="Подробнее о товаре ${e.title}">\n                Подробнее\n            </a>\n        `:"";return n.innerHTML=`\n            <div class="product__image-wrapper">\n                <img src="${e.image}" \n                     alt="${e.alt||e.title}" \n                     class="product__image" \n                     loading="${t?"eager":"lazy"}" \n                     width="300" \n                     height="200" \n                     itemprop="image">\n            </div>\n            <div class="product__content">\n                <h3 class="product__title" itemprop="name">${e.title}</h3>\n                <div class="product__meta">\n                    <p class="product__subtitle" itemprop="sku">Артикул: ${e.article}</p>\n                    ${s}\n                </div>\n                <div class="product__bottom-section">\n                    ${r}\n                    ${o}\n                    <div class="product__footer">\n                        <div class="quantity__controls">\n                            <button type="button" class="quantity__btn minus" aria-label="Уменьшить количество">−</button>\n                            <input type="number" class="quantity__input" id="quantity-${i}" name="quantity-${i}" value="1" min="1" aria-label="Количество товара">\n                            <button type="button" class="quantity__btn plus" aria-label="Увеличить количество">+</button>\n                        </div>\n                        <button type="button" class="add-to-cart" itemprop="offers" itemtype="http://schema.org/Offer" aria-label="Добавить ${e.title} в корзину">Добавить в корзину</button>\n                    </div>\n                </div>\n            </div>\n        `,n}(e,h+t<y.initialItems);r.appendChild(i)})),e.appendChild(r),h=n,b=h>=i.length,v=!1,!b&&function(){const e=document.documentElement.scrollHeight,t=window.innerHeight,i=window.scrollY;return e-t-i<y.scrollThreshold}()&&w(y.loadMoreItems)}function S(){h=0,b=!1,v=!1,e&&(e.innerHTML="",w(y.initialItems))}function q(){t&&t.classList.remove("active"),document.querySelector(".cart-overlay")&&document.querySelector(".cart-overlay").classList.remove("active"),document.body.classList.remove("body-no-scroll")}function E(){if(!e)return void(e.innerHTML="<p>Контейнер для товаров не найден</p>");if(!Array.isArray(a)||0===a.length)return void(e.innerHTML="<p>Товары отсутствуют</p>");e.innerHTML="",e.style.opacity="0",e?(w(y.initialItems),window.addEventListener("scroll",L)):console.error("Контейнер #products-container не найден");setTimeout((()=>{const t=e.querySelectorAll(".product__image");let i=0;const n=t.length;0!==n?t.forEach((t=>{t.complete?(i++,i===n&&(e.style.opacity="1")):(t.addEventListener("load",(()=>{i++,i===n&&(e.style.opacity="1")})),t.addEventListener("error",(()=>{console.error(`Ошибка загрузки изображения: ${t.src}`),i++,i===n&&(e.style.opacity="1")})))})):e.style.opacity="1"}),0)}function A(e){return new Intl.NumberFormat("ru-RU").format(e)}function x(e){const t=e.querySelector(".product__subtitle"),i=e.querySelector(".product__title"),n=e.querySelector('.product__price span[itemprop="price"]'),o=e.querySelector(".quantity__input"),s=e.querySelector(".product__image"),a=e.querySelector(".product__size-select");if(!(t&&i&&o&&s))return;const l=n&&parseFloat(n.getAttribute("content"))||0,c=t.textContent.split(": ")[1]||Date.now().toString(),d=i.textContent||"Без названия",p=parseInt(o.value)||1,u=s.src||"",m=a?a.value:null,y=a?e.querySelector(".product__size-selector label")?.textContent.replace(":","").trim():null,f=`${c}-${m||"default"}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,h=g.find((e=>e.id===f));h?h.quantity+=p:g.push({id:f,baseId:c,title:d,price:l,quantity:p,image:u,subtitle:t.textContent,optionType:y,optionValue:m}),$(),r&&(r.classList.add("update"),setTimeout((()=>r.classList.remove("update")),500))}function $(){n&&o&&r&&s&&(n.innerHTML="",f=0,g.forEach((e=>{const t=e.price*e.quantity;f+=t;const i=document.createElement("div");i.className="cart-item",i.innerHTML=`\n                <img src="${e.image}" alt="${e.title}" class="cart-item-image">\n                <div class="cart-item-details">\n                    <h4 class="cart-item-title">${e.title}</h4>\n                    ${e.optionValue?`<p class="cart-item-option">${e.optionType}: ${e.optionValue}</p>`:""}\n                    <p class="cart-item-subtitle">${e.subtitle}</p>\n                    ${e.price>0?`<p class="cart-item-price">${A(e.price)} ₽</p>`:""}\n                    <div class="cart-item-quantity">\n                        <div class="quantity__controls">\n                            <button type="button" class="quantity__btn minus" data-id="${e.id}">-</button>\n                            <input type="number" class="quantity__input" id="cart-quantity-${e.id}" name="cart-quantity-${e.id}" value="${e.quantity}" min="1" data-id="${e.id}">\n                            <button type="button" class="quantity__btn plus" data-id="${e.id}">+</button>\n                        </div>\n                        <button class="cart-item-remove" data-id="${e.id}">×</button>\n                    </div>\n                </div>\n            `,n.appendChild(i)})),c&&c.setAttribute("aria-label",`Отправить заказ на сумму ${A(f)} руб`),o.textContent=A(f),r.textContent=g.reduce(((e,t)=>e+t.quantity),0),s.style.display=g.length>0?"block":"none",localStorage.setItem("cart",JSON.stringify(g)))}function z(){if(0===g.length)return void alert("Корзина пуста!");const e={items:g,total:f,date:(new Date).toISOString()};console.log("Данные заказа:",e),alert(`Ваш заказ на сумму ${A(f)} ₽ успешно отправлен!`),g=[],$(),q(),localStorage.removeItem("cart")}function k(){document.addEventListener("click",(e=>{if(e.target.classList.contains("quantity__btn")){const t=e.target.closest(".quantity__controls");if(!t)return;const i=t.querySelector(".quantity__input");if(!i)return;let n=parseInt(i.value)||1;e.target.classList.contains("minus")&&n>1?n--:e.target.classList.contains("plus")&&n++,i.value=n}if(e.target.classList.contains("add-to-cart")){const t=e.target.closest(".product__card");t&&x(t)}if(e.target.closest("#cart-icon")&&(e.preventDefault(),t&&i&&document.querySelector(".cart-overlay")&&(t.classList.add("active"),document.querySelector(".cart-overlay").classList.add("active"),document.body.classList.add("body-no-scroll"),setTimeout((()=>i.focus()),100))),e.target.classList.contains("quantity__btn")&&e.target.closest(".cart-item")){const t=e.target.getAttribute("data-id"),i=g.find((e=>e.id===t));if(!i)return;e.target.classList.contains("minus")&&i.quantity>1?i.quantity--:e.target.classList.contains("plus")&&i.quantity++,$()}if(e.target.classList.contains("cart-item-remove")){const t=e.target.getAttribute("data-id");g=g.filter((e=>e.id!==t)),$()}})),i&&i.addEventListener("click",q),c&&c.addEventListener("click",z),document.addEventListener("change",(e=>{if(e.target.classList.contains("quantity__input")&&e.target.closest(".cart-item")){const t=e.target.getAttribute("data-id"),i=parseInt(e.target.value)||1,n=g.find((e=>e.id===t));n&&i>=1&&(n.quantity=i,$())}}));const e=document.querySelector(".focus-trap-start"),n=document.querySelector(".focus-trap-end");t&&n&&e&&(n.addEventListener("focus",(()=>i?.focus())),e.addEventListener("focus",(()=>c?.focus())))}!function(){let e=document.querySelector(".cart-overlay");e||(e=document.createElement("div"),e.className="cart-overlay",document.body.appendChild(e)),e.addEventListener("click",q),document.addEventListener("click",(e=>{t&&t.classList.contains("active")&&(t.contains(e.target)||e.target.closest("#cart-icon")||q())}))}(),k(),function(){const e=localStorage.getItem("cart");if(e)try{g=JSON.parse(e),$()}catch(e){console.error("Ошибка при загрузке корзины:",e),localStorage.removeItem("cart")}}(),e&&(E(),d&&function(){if(!d||!p||!u)return;function e(){u.style.display=p.value?"block":"none"}p.id||(p.id="search-input"),p.name||(p.name="search"),p.addEventListener("input",(()=>{e(),S()})),p.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),S())})),u.addEventListener("click",(t=>{t.preventDefault(),p.value="",p.focus(),e(),S()}));const t=document.querySelector(".search-form__icon._icon-search");t&&t.addEventListener("click",(e=>{e.stopPropagation(),d.classList.toggle("active"),d.classList.contains("active")&&p.focus()})),document.addEventListener("click",(e=>{d.contains(e.target)||e.target.closest(".search-form__icon")||d.classList.remove("active")})),e()}(),m&&function(){if(!m)return;const e=m.querySelector(".custom-select__trigger"),t=m.querySelector(".custom-select__value"),i=m.querySelector(".custom-select__options");if(!e||!t||!i)return;const n=[...new Set(a.map((e=>e.category)).filter((e=>e)))],o=document.createElement("li");o.textContent="Все товары",o.dataset.value="all",i.appendChild(o),n.forEach((e=>{const t=document.createElement("li");t.textContent=e,t.dataset.value=e,i.appendChild(t)})),e.addEventListener("click",(e=>{e.stopPropagation(),m.classList.toggle("open")})),i.addEventListener("click",(e=>{const n=e.target.closest("li");n&&(_=n.dataset.value,t.textContent=n.textContent,i.querySelectorAll("li").forEach((e=>e.classList.remove("selected"))),n.classList.add("selected"),m.classList.remove("open"),S())})),document.addEventListener("click",(e=>{m.contains(e.target)||m.classList.remove("open")})),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m.classList.toggle("open"))}))}()),function(){const e=document.querySelector(".header");if(!e)return;const t=e.querySelector(".header__logo-text"),i=e.querySelector(".header__logo-text-short"),n=e.querySelector(".header__body"),o=e.querySelectorAll(".phones__item"),r=e.querySelectorAll(".emails__item"),s=e.querySelectorAll(".phones__link"),a=e.querySelectorAll(".emails__link"),l=e.querySelector(".actions__contacts");function c(){return window.innerWidth>991.98}function d(){const d=window.scrollY>0,p=c()&&d;t&&i&&(t.style.display=p?"none":"block",i.style.display=p?"block":"none",p?(i.style.opacity="1",i.style.visibility="visible"):(t.style.opacity="1",t.style.visibility="visible"),c()||(t.style.display="none",i.style.display="block",i.style.opacity="1",i.style.visibility="visible")),o.forEach((e=>e.style.cssText=p?"display: flex; flex-direction: row;":"")),r.forEach((e=>e.style.cssText=p?"display: flex; flex-direction: row;":"")),s.forEach((e=>e.style.marginRight=p?"10px":"")),a.forEach((e=>e.style.marginRight=p?"10px":"")),l&&(l.style.gap=p?"5px":""),n&&(n.style.padding=p?"5px 0":""),e.classList.toggle("scrolled",p)}let p=!1;function u(){p||(requestAnimationFrame((()=>{d(),p=!1})),p=!0)}window.addEventListener("scroll",u),window.addEventListener("resize",(()=>{c()||([t,i,...o,...r,...s,...a,l,n].filter(Boolean).forEach((e=>e.style.cssText="")),e.classList.remove("scrolled")),u()})),d()}(),function(){const e=document.querySelector(".scroll-top");e&&(window.addEventListener("scroll",(()=>{e.classList.toggle("visible",window.pageYOffset>window.innerHeight/2)})),e.addEventListener("click",(e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})))}(),function(){const e=document.querySelector(".specs-table");if(!e)return;const t=Array.from(e.querySelectorAll(".specs-table__header")).map((e=>e.textContent));e.querySelectorAll(".specs-table__row").forEach((e=>{Array.from(e.querySelectorAll("td")).forEach(((e,i)=>{e.setAttribute("data-label",t[i])}))}))}(),function(){function e(){const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),t&&(t.style.height=window.innerHeight+"px")}e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),/iPad|iPhone|iPod/.test(navigator.userAgent)&&(document.body.style.cssText="overflow: hidden; position: fixed; top: 0; left: 0; right: 0; bottom: 0;")}()})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){i&&e.target.closest(".icon-menu")&&(((e=500)=>{document.documentElement.classList.contains("lock")?n(e):o(e)})(),document.documentElement.classList.toggle("menu-open"))})),function(){const i=document.querySelectorAll("[data-spollers]");if(i.length>0){const n=Array.from(i).filter((function(e,t,i){return!e.dataset.spollers.split(",")[0]}));n.length&&s(n);let o=r(i,"spollers");function s(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),a(e),e.addEventListener("click",l)):(e.classList.remove("_spoller-init"),a(e,!1),e.removeEventListener("click",l))}))}function a(e,t=!0){let i=e.querySelectorAll("[data-spoller]");i.length&&(i=Array.from(i).filter((t=>t.closest("[data-spollers]")===e)),i.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})))}function l(i){const n=i.target;if(n.closest("[data-spoller]")){const o=n.closest("[data-spoller]"),r=o.closest("[data-spollers]"),s=r.hasAttribute("data-one-spoller"),a=r.dataset.spollersSpeed?parseInt(r.dataset.spollersSpeed):500;r.querySelectorAll("._slide").length||(s&&!o.classList.contains("_spoller-active")&&c(r),o.classList.toggle("_spoller-active"),((i,n=500)=>{i.hidden?t(i,n):e(i,n)})(o.nextElementSibling,a)),i.preventDefault()}}function c(t){const i=t.querySelector("[data-spoller]._spoller-active"),n=t.dataset.spollersSpeed?parseInt(t.dataset.spollersSpeed):500;i&&!t.querySelectorAll("._slide").length&&(i.classList.remove("_spoller-active"),e(i.nextElementSibling,n))}o&&o.length&&o.forEach((e=>{e.matchMedia.addEventListener("change",(function(){s(e.itemsArray,e.matchMedia)})),s(e.itemsArray,e.matchMedia)}));const d=document.querySelectorAll("[data-spoller-close]");d.length&&document.addEventListener("click",(function(t){t.target.closest("[data-spollers]")||d.forEach((t=>{const i=t.closest("[data-spollers]");if(i.classList.contains("_spoller-init")){const n=i.dataset.spollersSpeed?parseInt(i.dataset.spollersSpeed):500;t.classList.remove("_spoller-active"),e(t.nextElementSibling,n)}}))}))}}()})();